#N canvas 827 239 731 589 12;
#X obj 125 98 inlet;
#X obj 59 1067 outlet;
#X obj 59 60 inlet~;
#X obj 59 515 fluid.ampfeature~ -fastrampup 20 -fastrampdown 690 -slowrampup 1215 -slowrampdown 1215 -floor -60 -highpassfreq 1700;
#X obj 59 951 thresh~;
#X obj 59 991 edge~;
#X obj 187 284 args -;
#X obj 187 220 loadbang;
#X obj 125 322 route -attack -release -gate -filter -wait -slowramp, f 69;
#X obj 125 360 ms2samps;
#X msg 125 389 fastrampup \$1;
#X msg 150 447 fastrampdown \$1;
#X obj 150 418 ms2samps;
#X msg 296 400 floor \$1;
#X obj 277 360 clip -60 0;
#X obj 277 581 expr 0.083 * pow( ($f1 + 60) / 10\\\, 2.48) + 1;
#X text 326 604 compensation for gain loss when highering the gate level, f 30;
#X msg 354 447 highpassfreq \$1;
#X obj 109 711 clip 0 1;
#X obj 109 749 scale 0 1 35 4 0.5;
#X obj 238 749 clip 0 1;
#X obj 200 829 * 0.5;
#X obj 173 869 pak f 7;
#X obj 200 790 pak f 0.3;
#X obj 173 903 - 1;
#X obj 109 671 unjoin 2;
#X obj 583 619 t a;
#X obj 59 1030 dc.wait 64;
#X obj 680 60 cnv 15 283 29 empty empty dc.trigger~ 20 13 0 20 #00deb1 #ffffff 0;
#X text 680 103 Perform onset detection on the incoming audio signal. The object is fine-tuned for percussive sounds but can also work for other signals. The higher the sensitivity the more triggers are detected in the signal. The range allows to adjust the lower threshold when the trigger is released and can detect another trigger. Gate \, filter and wait allow to further fine-tune the onset detection. Connect this object to dc.display~ to have a visualisation., f 41;
#X text 109 59 1 (signal) : detect incoming triggers on this sound;
#X text 168 97 2 (number) : sensitivity of the trigger detection 0 - 1 (default = 0.5);
#X obj 476 991 t a;
#X obj 476 447 maximum 0;
#X obj 307 171 inlet;
#X text 348 170 4 (number) : gate below which no triggers are detected -60 - 0 (default = -60dB), f 40;
#X text 168 113 2 (messages) : change other settings like -attack \, -release \, etc.;
#X obj 187 139 inlet;
#X text 226 138 3 (number) : sensitivity range of the trigger detection 0 - 1 (default = 0.3), f 62;
#X obj 187 171 send \$0_range;
#X obj 238 711 receive \$0_range;
#X obj 59 581 *~ 1;
#X msg 242 284 0.5 0.3;
#X obj 187 249 t b b;
#X connect 0 0 8 0;
#X connect 2 0 3 0;
#X connect 3 0 41 0;
#X connect 4 0 5 0;
#X connect 5 0 27 0;
#X connect 6 0 8 0;
#X connect 7 0 43 0;
#X connect 8 0 9 0;
#X connect 8 1 12 0;
#X connect 8 2 14 0;
#X connect 8 3 17 0;
#X connect 8 4 33 0;
#X connect 8 6 26 0;
#X connect 9 0 10 0;
#X connect 10 0 3 0;
#X connect 11 0 3 0;
#X connect 12 0 11 0;
#X connect 13 0 3 0;
#X connect 14 0 13 0;
#X connect 14 0 15 0;
#X connect 15 0 41 1;
#X connect 17 0 3 0;
#X connect 18 0 19 0;
#X connect 19 0 23 0;
#X connect 19 0 22 0;
#X connect 19 0 4 2;
#X connect 20 0 23 1;
#X connect 21 0 22 1;
#X connect 22 0 24 0;
#X connect 23 0 21 0;
#X connect 24 0 4 1;
#X connect 25 0 18 0;
#X connect 25 1 20 0;
#X connect 26 0 25 0;
#X connect 27 0 1 0;
#X connect 32 0 27 1;
#X connect 33 0 32 0;
#X connect 34 0 14 0;
#X connect 37 0 39 0;
#X connect 40 0 20 0;
#X connect 41 0 4 0;
#X connect 42 0 8 0;
#X connect 43 0 6 0;
#X connect 43 1 42 0;
