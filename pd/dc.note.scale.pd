#N canvas 827 239 527 327 12;
#X declare -path else;
#X declare -path cyclone;
#X obj 116 298 % 12;
#X obj 59 259 expr int($f1 / 12) * 12;
#X obj 59 381 +;
#X obj 219 320 coll \$0-scales @embed 1;
#C flags 1 0;
#C store major 0 0 2 4 4 5 5 7 7 9 9 11;
#C store minor 0 0 2 3 3 5 7 7 8 8 10 10;
#C store minor_harmonic 0 0 2 3 3 5 7 7 8 8 11 11;
#C store minor_melodic 0 0 2 3 3 5 7 7 9 9 11 11;
#C store dorian 0 0 2 3 3 5 5 7 7 9 10 10;
#C store phrygian 0 1 3 3 5 5 7 7 8 8 10 10;
#C store lydian 0 0 2 4 4 6 6 7 7 9 9 11;
#C store mixolydian 0 0 2 4 4 5 5 7 7 9 9 10;
#C store locrian 0 0 1 3 3 5 5 6 6 8 8 10;
#C store major_pentatonic 0 0 2 2 4 4 4 7 7 7 9 9;
#C store minor_pentatonic 0 0 3 3 3 5 5 7 7 7 10 10;
#C store chromatic 0 1 2 3 4 5 6 7 8 9 10 11;
#C restore;
#X obj 59 214 t f f;
#X obj 399 320 coll \$0-roots @embed 1;
#C flags 1 0;
#C store gb -6;
#C store g -5;
#C store g# -4;
#C store ab -4;
#C store a -3;
#C store a# -2;
#C store bb -2;
#C store b -1;
#C store b# 0;
#C store cb -1;
#C store c 0;
#C store c# 1;
#C store db 1;
#C store d 2;
#C store d# 3;
#C store eb 3;
#C store e 4;
#C store e# 5;
#C store fb 4;
#C store f 5;
#C store f# 6;
#C restore;
#X obj 59 434 +;
#X obj 116 334 zl.lookup;
#X text 678 157 major 0 0 2 4 4 5 5 7 7 9 9 11 \; minor 0 0 2 3 3 5 7 7 8 8 10 10 \; minor_harmonic 0 0 2 3 3 5 7 7 8 8 11 11 \; minor_melodic 0 0 2 3 3 5 7 7 9 9 11 11 \; dorian 0 0 2 3 3 5 5 7 7 9 10 10 \; phrygian 0 1 3 3 5 5 7 7 8 8 10 10 \; lydian 0 0 2 4 4 6 6 7 7 9 9 11 \; mixolydian 0 0 2 4 4 5 5 7 7 9 9 10 \; locrian 0 0 1 3 3 5 5 6 6 8 8 10 \; major_pentatonic 0 0 2 2 4 4 4 7 7 7 9 9 \; minor_pentatonic 0 0 3 3 3 5 5 7 7 7 10 10 \; chromatic 0 1 2 3 4 5 6 7 8 9 10 11 \;;
#X obj 258 139 loadbang;
#X obj 258 170 args;
#X obj 258 236 unjoin 2;
#X obj 59 117 int 60;
#X obj 678 39 cnv 15 283 29 empty empty dc.note.scale 20 13 0 20 #00deb1 #ffffff 0;
#X text 678 76 Map the incoming MIDI note to a note in a specified scale with a specified root. Scale name and root name can be specified as argument or via the 2nd and 3rd inlets., f 40;
#X obj 258 200 default major c;
#X obj 59 170 -;
#X obj 59 39 inlet (number) MIDI pitch to map to scale;
#X obj 219 78 inlet (message) scale name for mapping, f 35;
#X obj 399 117 inlet (message) root name for transposing, f 37;
#X obj 59 499 outlet (number) MIDI note mapped to scale and root;
#X obj 678 381 declare -path else;
#X obj 678 417 declare -path cyclone;
#X connect 0 0 7 0;
#X connect 1 0 2 0;
#X connect 2 0 6 0;
#X connect 3 0 7 1;
#X connect 4 0 1 0;
#X connect 4 1 0 0;
#X connect 5 0 6 1;
#X connect 5 0 16 1;
#X connect 6 0 20 0;
#X connect 7 0 2 1;
#X connect 9 0 10 0;
#X connect 10 0 15 0;
#X connect 11 0 3 0;
#X connect 11 1 5 0;
#X connect 12 0 16 0;
#X connect 15 0 11 0;
#X connect 16 0 4 0;
#X connect 17 0 12 0;
#X connect 18 0 3 0;
#X connect 19 0 5 0;
