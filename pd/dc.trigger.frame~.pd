#N canvas 733 172 450 300 12;
#X declare -path FluidCorpusManipulation;
#X declare -path cyclone;
#X declare -path else;
#X obj 59 370 poke~ \$0-circBuf;
#X obj 119 111 sig~ 1;
#X obj 119 219 %~;
#X obj 177 141 array size \$0-circBuf;
#X obj 177 111 loadbang;
#X obj 239 179 * 0.5;
#X obj 201 219 +~;
#X obj 167 281 %~;
#X obj 96 331 poke~ \$0-circBuf;
#X obj 229 281 %~;
#X obj 119 141 +=~;
#X msg 303 315 offset \$1;
#X obj 303 207 blocksize~;
#X obj 303 179 loadbang;
#X msg 379 530 startframe \$1 \, bang;
#X obj 59 592 array define \$0-circBuf 44100;
#X f 26;
#X obj 379 592 fluid.bufcompose -source \$0-circBuf -destination \$0-soundFrame -numframes 256 -blocking 1, f 43;
#X obj 559 341 args;
#X obj 229 462 wrap2 0 22050;
#X text 336 461 wrap between 0 and buffer size;
#X text 379 506 trigger to copy the sound from the circular buffer to the temporary buf;
#X msg 559 530 numframes \$1;
#X obj 559 315 loadbang;
#X obj 743 58 cnv 15 283 29 empty empty dc.trigger.frame~ 20 13 0 20 #00deb1 #ffffff 0;
#X text 743 94 Capture a short frame of sound when the trigger is detected. This short frame of sound can be used to analyse for various sound descriptors such as pitch \, loudness \, spectral centroid \, noisiness \, timbre (mfcc) and more., f 41;
#X text 743 193 arguments:;
#X text 743 213 framesize in samples (default = 256 \, min = 8 \, max = 22050);
#X obj 559 403 clip 8 22050;
#X obj 303 238 - 1;
#X obj 59 630 array define \$0-soundFrame 256;
#X f 29;
#X obj 590 450 array size \$0-soundFrame;
#X obj 229 370 cyclone/snapshot~;
#X obj 559 370 default 256;
#X obj 459 58 declare -path FluidCorpusManipulation;
#X obj 459 89 declare -path cyclone;
#X obj 459 121 declare -path else;
#X obj 379 333 edge~;
#X obj 379 299 delay~ 44100 256;
#X obj 59 58 inlet~ (signal) capture short piece of incoming signal;
#X obj 379 238 inlet~ (signal-trigger) detected trigger as signal from drum.trigger~;
#X obj 379 644 outlet (buffer/array) output the buffer name containing the short sound capture, f 68;
#X obj 229 315 sah~ 0.5;
#X obj 229 403 - 20;
#X text 271 402 offset to go back a bit in the time before the onset was detected based on fastrampup in trigger, f 29;
#X connect 1 0 10 0;
#X connect 2 0 9 0;
#X connect 2 0 0 1;
#X connect 3 0 2 1;
#X connect 3 0 5 0;
#X connect 3 0 7 1;
#X connect 4 0 3 0;
#X connect 5 0 6 1;
#X connect 5 0 9 1;
#X connect 6 0 7 0;
#X connect 7 0 8 1;
#X connect 9 0 41 0;
#X connect 10 0 2 0;
#X connect 10 0 6 0;
#X connect 11 0 31 0;
#X connect 12 0 28 0;
#X connect 13 0 12 0;
#X connect 14 0 16 0;
#X connect 16 0 40 0;
#X connect 17 0 32 0;
#X connect 18 0 14 0;
#X connect 21 0 16 0;
#X connect 22 0 17 0;
#X connect 27 0 21 0;
#X connect 27 0 30 0;
#X connect 27 0 37 1;
#X connect 28 0 11 0;
#X connect 31 0 42 0;
#X connect 32 0 27 0;
#X connect 36 0 31 0;
#X connect 37 0 36 0;
#X connect 38 0 0 0;
#X connect 38 0 8 0;
#X connect 39 0 37 0;
#X connect 39 0 41 1;
#X connect 41 0 31 0;
#X connect 42 0 18 0;
