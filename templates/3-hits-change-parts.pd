#N canvas 827 239 734 565 12;
#X declare -path drumcode/pd;
#X obj 59 239 adc~ 1;
#X text 124 262 select input 1 from the soundcard;
#X obj 59 298 meter~;
#X text 124 297 the [meter~] gives the volume measure of the input, f 25;
#X obj 59 476 dc.trigger~;
#X text 142 475 use this object to detect triggers from the sound;
#X obj 147 395 hsl 128 17 0 1 0 1 empty empty empty -2 -8 0 10 #e4e4e4 #4d4d4d #000000 7090 1;
#X text 307 431 adjust the gate (-60 - 0dB) \, sound below this level is not detected, f 31;
#X obj 171 432 hsl 128 17 -60 0 0 1 empty empty empty -2 -8 0 10 #e4e4e4 #4d4d4d #000000 2722 1;
#X obj 59 59 cnv 15 421 41 empty empty ./drum.code\ -\ Getting\ Started\ 3 20 20 0 24 #00cb9e #ffffff 0;
#X text 499 58 Written by Timo Hoogland \, 2024 \, www.timohoogland.com;
#X text 499 78 License: GNU GPL-3.0;
#X text 499 98 Funded by Creative Industries Fund NL;
#X obj 59 518 bng 25 250 50 0 empty empty empty 17 7 0 10 #e4e4e4 #4d4d4d #000000;
#X text 93 517 display the trigger with a button;
#X obj 55 1208 dac~ 1 2;
#X text 127 1207 send sound to the speaker output;
#X text 127 1230 dac = Digital -> Analog Converter;
#X text 124 238 adc = Analog -> Digital Converter;
#X obj 60 1081 gain~ 1 0 20 0 0;
#A saved;
#X text 89 1080 a [gain~] slider to control the sound output;
#X obj 93 976 hsl 128 17 0 127 0 1 empty empty empty -2 -8 0 10 #e4e4e4 #4d4d4d #000000 9000 1;
#X text 99 1000 adjust the note length;
#X text 499 214 Don't delete! This is needed to be able to use the [dc.*] objects;
#X obj 59 109 cnv 15 421 31 empty empty Use\ Hit\ Count\ To\ Change\ Parameters 20 14 0 20 #838383 #ffffff 0;
#X text 141 374 adjust the [hslider] to change trigger sensitivity;
#X obj 268 976 hsl 128 17 0 127 0 1 empty empty empty -2 -8 0 10 #e4e4e4 #4d4d4d #000000 9000 1;
#X text 275 1000 adjust the distortion (between 0-127);
#X obj 499 278 dc.audio.onoff~;
#X text 639 278 [dc.audio.onoff~] object transforms into this user interface to turn on/off the sound, f 29;
#X obj 499 239 declare -path drumcode/pd;
#X obj 59 1041 dc.synth~;
#X text 399 579 The trigger.controls gets the time between triggers in milliseconds. Then converts the time interval to a "speed" value between 0 and 127 And slowly slides back to 0 automatically while playing. The slider reaches a larger value if the speed increases.;
#X obj 59 580 dc.trigger.timecontrols;
#X text 81 828 some MIDI notes to step through every time a trigger is send, f 21;
#X obj 176 659 select 4 5 6 7, f 29;
#X floatatom 176 620 5 0 0 0 - - - 12;
#X obj 176 691 bng 25 250 50 0 empty empty empty 17 7 0 10 #e4e4e4 #4d4d4d #000000;
#X obj 220 691 bng 25 250 50 0 empty empty empty 17 7 0 10 #e4e4e4 #4d4d4d #000000;
#X obj 265 691 bng 25 250 50 0 empty empty empty 17 7 0 10 #e4e4e4 #4d4d4d #000000;
#X obj 309 691 bng 25 250 50 0 empty empty empty 17 7 0 10 #e4e4e4 #4d4d4d #000000;
#X text 59 157 In this template one trigger input is detected and the hits are counted when received quickly (within 250 milliseconds). Based on the number of hits some melody is swapped and other parameters are adjusted in the composition.;
#X msg 176 740 48 63 67;
#X msg 220 771 51 63 72;
#X obj 59 801 dc.step;
#X text 399 658 When 4 hits are detected: switch to melody 48 63 67;
#X text 399 683 When 5 hits are detected: switch to melody 51 63 72;
#X text 399 707 When 6 hits are detected: play short notelengths and less distortion;
#X msg 265 898 30;
#X msg 309 898 90;
#X text 399 732 When 7 hits are detected: play long notelengths with distortion;
#X text 220 619 number of hits;
#X connect 0 0 2 0;
#X connect 2 0 4 0;
#X connect 4 0 13 0;
#X connect 6 0 4 1;
#X connect 8 0 4 3;
#X connect 13 0 33 0;
#X connect 19 0 15 0;
#X connect 19 0 15 1;
#X connect 21 0 31 2;
#X connect 26 0 31 3;
#X connect 31 0 19 0;
#X connect 33 0 44 0;
#X connect 33 5 36 0;
#X connect 35 0 37 0;
#X connect 35 1 38 0;
#X connect 35 2 39 0;
#X connect 35 3 40 0;
#X connect 36 0 35 0;
#X connect 37 0 42 0;
#X connect 38 0 43 0;
#X connect 39 0 48 0;
#X connect 40 0 49 0;
#X connect 42 0 44 1;
#X connect 43 0 44 1;
#X connect 44 0 31 0;
#X connect 48 0 21 0;
#X connect 48 0 26 0;
#X connect 49 0 26 0;
#X connect 49 0 21 0;
